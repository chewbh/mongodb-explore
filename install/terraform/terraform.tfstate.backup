{
  "version": 4,
  "terraform_version": "0.12.24",
  "serial": 350,
  "lineage": "8def4c1a-85ca-8b0c-39ed-07d4c44096aa",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "digitalocean_domain",
      "name": "default",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "thor1.test",
            "ip_address": null,
            "name": "thor1.test",
            "urn": "do:domain:thor1.test"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "config_servers",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:49Z",
            "disk": 160,
            "id": "191516232",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.126.186",
            "ipv4_address_private": "10.104.0.5",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "cfgsvr-1",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "cfgsvr",
              "mongodb"
            ],
            "urn": "do:droplet:191516232",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516230",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.126.200",
            "ipv4_address_private": "10.104.0.6",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "cfgsvr-2",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "cfgsvr",
              "mongodb"
            ],
            "urn": "do:droplet:191516230",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516227",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.121.234",
            "ipv4_address_private": "10.104.0.10",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "cfgsvr-3",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "cfgsvr",
              "mongodb"
            ],
            "urn": "do:droplet:191516227",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "mongo_shard_1",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516228",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.113.186",
            "ipv4_address_private": "10.104.0.8",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "mongo-shard-1-1",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "app01RS",
              "mongodb"
            ],
            "urn": "do:droplet:191516228",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516231",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.126.135",
            "ipv4_address_private": "10.104.0.4",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "mongo-shard-1-2",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "app01RS",
              "mongodb"
            ],
            "urn": "do:droplet:191516231",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "mongo_shard_2",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516225",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.113.54",
            "ipv4_address_private": "10.104.0.7",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "mongo-shard-2-1",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "app02RS",
              "mongodb"
            ],
            "urn": "do:droplet:191516225",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516229",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.126.131",
            "ipv4_address_private": "10.104.0.3",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "mongo-shard-2-2",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "app02RS",
              "mongodb"
            ],
            "urn": "do:droplet:191516229",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "mongos",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:49Z",
            "disk": 160,
            "id": "191516234",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.121.214",
            "ipv4_address_private": "10.104.0.9",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "mongos-1",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "mongodb",
              "mongos"
            ],
            "urn": "do:droplet:191516234",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "created_at": "2020-05-08T18:48:48Z",
            "disk": 160,
            "id": "191516226",
            "image": "centos-7-x64",
            "ipv4_address": "178.128.126.30",
            "ipv4_address_private": "10.104.0.2",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": null,
            "locked": false,
            "memory": 8192,
            "monitoring": false,
            "name": "mongos-2",
            "price_hourly": 0.05952,
            "price_monthly": 40,
            "private_networking": true,
            "region": "sgp1",
            "resize_disk": true,
            "size": "s-4vcpu-8gb",
            "ssh_keys": [
              "27338618"
            ],
            "status": "active",
            "tags": [
              "mongodb",
              "mongos"
            ],
            "urn": "do:droplet:191516226",
            "user_data": "d6af96dbe77419e690b465fa811ead4482ea85d2",
            "vcpus": 4,
            "volume_ids": [],
            "vpc_uuid": "0af24dbc-9bec-428d-8e89-824733248c9c"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_ssh_key.local"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "mongodb-firewall",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              191516226,
              191516234
            ],
            "id": "e1a5dcdb-ebd5-461e-b977-f2bc1c7defc1",
            "inbound_rule": [
              {
                "port_range": "",
                "protocol": "icmp",
                "source_addresses": [
                  "0.0.0.0/0"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              },
              {
                "port_range": "22",
                "protocol": "tcp",
                "source_addresses": [
                  "0.0.0.0/0"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              },
              {
                "port_range": "27017",
                "protocol": "tcp",
                "source_addresses": [
                  "0.0.0.0/0"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              },
              {
                "port_range": "443",
                "protocol": "tcp",
                "source_addresses": [
                  "0.0.0.0/0"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              },
              {
                "port_range": "80",
                "protocol": "tcp",
                "source_addresses": [
                  "0.0.0.0/0"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              },
              {
                "port_range": "all",
                "protocol": "tcp",
                "source_addresses": [
                  "10.104.0.0/20"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              },
              {
                "port_range": "all",
                "protocol": "udp",
                "source_addresses": [
                  "10.104.0.0/20"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "mongodb-firewall",
            "outbound_rule": [
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "all",
                "protocol": "tcp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "all",
                "protocol": "udp"
              }
            ],
            "pending_changes": [],
            "status": "succeeded",
            "tags": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "digitalocean_droplet.mongos"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_ssh_key",
      "name": "local",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "fingerprint": "ff:89:19:b2:c4:f0:38:3c:3a:aa:a9:7b:e3:24:2e:74",
            "id": "27338618",
            "name": "bh_pixelbook",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDHoLXsIctHrbgXWzLq9GRoNYuemFdJFs5cBVOhb/JitqEC1H8f8zL4hTPCPwfKK19b97LUZ+WmCgpyJNBX5EdO0GsBMhHND6tiXpSnDf7LObT9cAFKd4uo2Pdb2hBjBKWkSye10R/UBsb0iPH84DBgCuv+VyubyvyxZmwX5ajJHtU2C997YBZms8C/YYtJem/WRFGXpwMxYtL5x25CFyjju1S7Nb9AAkJYhEItH4Ts7bA8AI2e7VQGPYxE8e2FhVqd5LTfR/owRqOT10pqdiOCZuBFe8HW9L/lwc85h6ub9ZgTYpPJ1Y02KzHDj/Q9fqz7sjTnab3KEN3hxtsRaRc7DK3vlNf0AtzgtrIWZPY1LgkveHBNCN/j2TGHS0YrST/opVm1wXVXzrN+yjUSXdR1765YolKiLmRaRjepKnTQl6tiCfs+OWHEznmCSiPHELgbgjW84xzWgUsEcjs5abaxpl2/Jc5BGI0X0AcTFpL7xVzyhueBy0v/nv9ipvSejgq/O0mG4FoL6rTQPOHOQTUdjCsx5eMnAwVgJ5MQq3Yo/9/UEvUUUPyjqry8zGwnmibThhCmUGMn6cD/a8DkNk9pA793y6t8D7iYoB8G4K/DZ/2kyKceryfhU2WzlG7JtvRNFDHgcTQK7enEdqWUOvyJVXmY/292Pnj3P7WXX2tStw== pixelbook"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "local_file",
      "name": "ansible_inventory",
      "provider": "provider.local",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "\n[pmm_server]\nmongos-1.10.104.0.9.xip.io ansible_host=178.128.121.214\n\n[mongo_shard_1]\nmongo-shard-1-1.10.104.0.8.xip.io ansible_host=178.128.113.186\nmongo-shard-1-2.10.104.0.4.xip.io ansible_host=178.128.126.135 arbiter_for_replica_set=mongo_shard_2\n\n[mongo_shard_1:vars]\nreplica_set_name=app01RS\n\n\n[mongo_shard_2]\nmongo-shard-2-1.10.104.0.7.xip.io ansible_host=178.128.113.54\nmongo-shard-2-2.10.104.0.3.xip.io ansible_host=178.128.126.131 arbiter_for_replica_set=mongo_shard_1\n\n[mongo_shard_2:vars]\nreplica_set_name=app02RS\n\n\n[mongo_shards:children]\nmongo_shard_1\nmongo_shard_2\n\n[mongos]\n# mongos are also known as query routers\nmongos-1.10.104.0.9.xip.io ansible_host=178.128.121.214\nmongos-2.10.104.0.2.xip.io ansible_host=178.128.126.30\n\n[config_servers]\ncfgsvr-1.10.104.0.5.xip.io ansible_host=178.128.126.186\ncfgsvr-2.10.104.0.6.xip.io ansible_host=178.128.126.200\ncfgsvr-3.10.104.0.10.xip.io ansible_host=178.128.121.234\n\n########################################################\n\n[mongodb_cluster:children]\nmongos\nconfig_servers\nmongo_shards\n\n\n[all:vars]\nansible_python_interpreter=/usr/bin/python3\nansible_connection=ssh\nansible_ssh_common_args='-o StrictHostKeyChecking=no'\n\n",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0664",
            "filename": "../ansible/inventory",
            "id": "cec3c1d80b923f161367e78bebeaf1899e8260bc",
            "sensitive_content": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "digitalocean_domain.default",
            "digitalocean_droplet.config_servers",
            "digitalocean_droplet.mongo_shard_1",
            "digitalocean_droplet.mongo_shard_2",
            "digitalocean_droplet.mongos",
            "digitalocean_ssh_key.local"
          ]
        }
      ]
    }
  ]
}
